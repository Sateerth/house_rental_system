{% extends 'base.html' %}
{% block content %}
<div class="mb-3">
  <h3>{{ house.name }}</h3>
  <p class="text-muted">{{ house.address }}</p>
  <p><strong>Rent:</strong> ₹{{ '{:.2f}'.format(house.rent) }}</p>
  {% if owner %}
    <a class="btn btn-sm btn-success" href="{{ url_for('add_tenant', house_id=house.id) }}">Add Tenant</a>
    <a class="btn btn-sm btn-warning" href="{{ url_for('add_bill', house_id=house.id) }}">Add Bill</a>
    <a class="btn btn-sm btn-secondary" href="{{ url_for('add_agreement', house_id=house.id) }}">Add Agreement</a>
  {% endif %}
</div>

<div class="row">
  <div class="col-md-6">
    <h5>Tenant</h5>
    {% if tenant %}
      <div class="card p-2">{{ tenant.name }} — {{ tenant.phone }} — {{ tenant.email }}</div>
    {% else %}
      <p>No tenant recorded.</p>
    {% endif %}

    <h5 class="mt-3">Agreement</h5>
    {% if agreement %}
      <div class="card p-2"><pre class="mb-0">{{ agreement.content }}</pre>
      <div class="small text-muted">From: {{ agreement.start_date }} To: {{ agreement.end_date }}</div></div>
    {% else %}
      <p>No agreement recorded.</p>
    {% endif %}
  </div>

  <div class="col-md-6">
    <h5>Bills</h5>
    {% if bills %}
      {% for b in bills %}
        <div class="card mb-2 p-2">
          <div><strong>{{ b.type }}</strong> — ₹{{ '{:.2f}'.format(b.amount) }}</div>
          <div class="small text-muted">{{ b.date.strftime('%Y-%m-%d') }} — {{ b.note }}</div>
        </div>
      {% endfor %}
    {% else %}
      <p>No bills recorded.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
